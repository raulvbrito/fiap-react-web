(function(e){function o(o){for(var r,i,s=o[0],u=o[1],l=o[2],d=0,p=[];d<s.length;d++)i=s[d],a[i]&&p.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(o);while(p.length)p.shift()();return n.push.apply(n,l||[]),t()}function t(){for(var e,o=0;o<n.length;o++){for(var t=n[o],r=!0,s=1;s<t.length;s++){var u=t[s];0!==a[u]&&(r=!1)}r&&(n.splice(o--,1),e=i(i.s=t[0]))}return e}var r={},a={app:0},n=[];function i(o){if(r[o])return r[o].exports;var t=r[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=r,i.d=function(e,o,t){i.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,o){if(1&o&&(e=i(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)i.d(t,r,function(o){return e[o]}.bind(null,r));return t},i.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(o,"a",o),o},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=o,s=s.slice();for(var l=0;l<s.length;l++)o(s[l]);var c=u;n.push([0,"chunk-vendors"]),t()})({0:function(e,o,t){e.exports=t("56d7")},"034f":function(e,o,t){"use strict";var r=t("64a9"),a=t.n(r);a.a},1:function(e,o){},2:function(e,o){},"278f":function(e,o,t){},"2b59":function(e,o,t){"use strict";var r=t("f78e"),a=t.n(r);a.a},3:function(e,o){},3544:function(e,o,t){"use strict";var r=t("d923"),a=t.n(r);a.a},4:function(e,o){},"56d7":function(e,o,t){"use strict";t.r(o);var r=t("2b0e"),a=t("8aa5"),n=t.n(a),i=function(){var e=this,o=e.$createElement,r=e._self._c||o;return r("div",{attrs:{id:"app"}},[r("img",{attrs:{alt:"Vue logo",src:t("cf05")}}),r("router-view")],1)},s=[],u=(t("034f"),t("2877")),l={},c=Object(u["a"])(l,i,s,!1,null,null,null),d=c.exports,p=t("8c4f"),m=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"home"},[t("div",{staticClass:"hello"},[t("button",{on:{click:e.updatePerfil}},[e._v("Atualizar Perfil")]),t("br"),t("br"),t("button",{on:{click:e.logout}},[e._v("Logout")]),t("div",[e._m(0),t("input",{directives:[{name:"model",rawName:"v-model",value:e.userNameGitHub,expression:"userNameGitHub"}],attrs:{type:"text",placeholder:"Usuário Github"},domProps:{value:e.userNameGitHub},on:{input:function(o){o.target.composing||(e.userNameGitHub=o.target.value)}}}),t("br"),t("br"),t("button",{on:{click:e.buscarRepoGitByUser}},[e._v("Buscar")]),t("br"),e._l(e.reposByUser,function(o){return t("ul",{key:o.length},[t("li",[t("b",[e._v("Repositório:")]),e._v("\n        "+e._s(o.name)+"\n      ")]),t("br"),t("li",[t("b",[e._v("URL:")]),e._v("\n        "+e._s(o.url)+"\n      ")]),t("br"),t("li",[t("b",[e._v("Estrelas:")]),e._v("\n        "+e._s(o.stargazers_count)+"\n      ")]),t("br"),t("br"),t("br")])}),t("br"),t("br")],2)])])},v=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("p",[t("b",[e._v("Digite um usuário do github")])])}],f=t("1157"),g=t.n(f),h={name:"home",data(){return{userNameGitHub:"",reposByUser:[]}},mounted:function(){var e=n.a.auth().currentUser;if(null!=e)n.a.database().ref("users/"+e.uid).on("value",e=>{localStorage.endereco=JSON.stringify(e.val())})},methods:{buscarRepoGitByUser:function(){var e=[];g.a.getJSON("https://api.github.com/users/"+this.userNameGitHub+"/repos",function(o){"Not Found"!=o.message?null!=o&&o.forEach(function(o){o={name:o.name,url:o.url,stargazers_count:o.stargazers_count};e.push(o)}):alert("Erro ao consultar repositorio")}).fail(function(){alert("Usuário não encontrado!")}),this.reposByUser=e},logout:function(){n.a.auth().signOut().then(()=>{this.$router.replace("login")})},updatePerfil:function(){this.$router.replace("updateProfile")}}},b=h,_=(t("2b59"),Object(u["a"])(b,m,v,!1,null,"42cfffbe",null)),w=_.exports,y=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login"},[t("h3",[e._v("Login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(o){o.target.composing||(e.email=o.target.value)}}}),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:e.password},on:{input:function(o){o.target.composing||(e.password=o.target.value)}}}),t("br"),t("button",{on:{click:e.login}},[e._v("Login")]),t("p",[e._v("Ainda não tem uma conta? Você pode "),t("router-link",{attrs:{to:"/sign-up"}},[e._v("criar uma aqui!")])],1)])},P=[],x={name:"login",data(){return{email:"",password:""}},methods:{login:function(){n.a.auth().signInWithEmailAndPassword(this.email,this.password).then(e=>{this.$router.replace("home")},e=>{alert("Oops. "+e.message)})}}},N=x,S=(t("6476"),Object(u["a"])(N,y,P,!1,null,"6dcc7b79",null)),E=S.exports,O=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"sign-up"},[t("p",[e._v("Vamos criar uma nova conta!")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.email},on:{input:function(o){o.target.composing||(e.email=o.target.value)}}}),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Senha"},domProps:{value:e.password},on:{input:function(o){o.target.composing||(e.password=o.target.value)}}}),t("br"),t("p",[e._v("Qual seu endereço?")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.cep,expression:"cep"}],attrs:{type:"text",maxlength:"8",pattern:"([0-9]{8})",placeholder:"CEP"},domProps:{value:e.cep},on:{input:function(o){o.target.composing||(e.cep=o.target.value)}}}),t("br"),t("button",{on:{click:e.buscar}},[e._v("Buscar")]),t("br"),t("br"),t("br"),t("label",[e._v("Logradouro")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.logradouro,expression:"endereco.logradouro"}],attrs:{type:"text"},domProps:{value:e.endereco.logradouro},on:{input:function(o){o.target.composing||e.$set(e.endereco,"logradouro",o.target.value)}}}),t("br"),t("label",[e._v("Número")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.numero,expression:"endereco.numero"}],attrs:{type:"number"},domProps:{value:e.endereco.numero},on:{input:function(o){o.target.composing||e.$set(e.endereco,"numero",o.target.value)}}}),t("br"),t("label",[e._v("Complemento")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.complemento,expression:"endereco.complemento"}],attrs:{type:"text"},domProps:{value:e.endereco.complemento},on:{input:function(o){o.target.composing||e.$set(e.endereco,"complemento",o.target.value)}}}),t("br"),t("label",[e._v("Bairro")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.bairro,expression:"endereco.bairro"}],attrs:{type:"text"},domProps:{value:e.endereco.bairro},on:{input:function(o){o.target.composing||e.$set(e.endereco,"bairro",o.target.value)}}}),t("br"),t("label",[e._v("Cidade")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.localidade,expression:"endereco.localidade"}],attrs:{type:"text"},domProps:{value:e.endereco.localidade},on:{input:function(o){o.target.composing||e.$set(e.endereco,"localidade",o.target.value)}}}),t("br"),t("label",[e._v("Estado")]),t("br"),t("input",{directives:[{name:"model",rawName:"v-model",value:e.endereco.uf,expression:"endereco.uf"}],attrs:{type:"text"},domProps:{value:e.endereco.uf},on:{input:function(o){o.target.composing||e.$set(e.endereco,"uf",o.target.value)}}}),t("br"),t("button",{on:{click:e.signUp}},[e._v("Criar conta")]),t("span",[e._v("\n    ou voltar para\n    "),t("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(".\n  ")],1)])},U=[],$=(t("1c46"),{name:"signUp",data:()=>{return{email:"",password:"",cep:"",endereco:{cep:"",logradouro:"",numero:"",complemento:"",bairro:"",localidade:"",uf:""},naoLocalizado:!1}},methods:{signUp:function(){this.email&&this.password&&this.endereco.cep&&this.endereco.logradouro&&this.endereco.numero&&this.endereco.bairro&&this.endereco.localidade&&this.endereco.uf?n.a.auth().createUserWithEmailAndPassword(this.email,this.password).then(e=>{console.log(e);var o=n.a.auth().currentUser;console.log("UID usuário logado: "+o.uid),console.log("Endereço atualizado: ",this.endereco),n.a.database().ref("users/"+o.uid).set(this.endereco),console.log(this.endereco.logradouro),console.log("Usuário criado e autenticado"),this.$router.replace("home")},e=>{alert("Oops. "+e.message)}):alert("Por favor preencha todos os campos ")},buscar:function(){8==this.cep.length?(this.naoLocalizado=!1,/^[0-9]{8}$/.test(this.cep)?(g.a.getJSON("https://viacep.com.br/ws/"+this.cep+"/json/",function(e){if(e.erro)return this.endereco={},void(this.naoLocalizado=!0);console.log("Atualizando endereço..."),console.log("Endereço retornado: ",e),this.endereco={cep:e.cep,logradouro:e.logradouro,numero:"",complemento:e.complemento,bairro:e.bairro,localidade:e.localidade,uf:e.uf},console.log("Endereço interno atualizado: ",this.endereco),localStorage.endereco=JSON.stringify(this.endereco)}),localStorage.endereco&&(this.endereco=JSON.parse(localStorage.endereco))):alert("Por favor preencher o campo CEP corretamente com 8 caracteres.")):alert("Por favor preencher o campo CEP corretamente com 8 caracteres.")}}}),k=$,j=(t("8e59"),Object(u["a"])(k,O,U,!1,null,"5989b274",null)),z=j.exports,L=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"sign-up"},[t("p",[e._v("Atualize seu nome completo")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.displayName,expression:"displayName"}],attrs:{type:"text",placeholder:"Nome de usuário"},domProps:{value:e.displayName},on:{input:function(o){o.target.composing||(e.displayName=o.target.value)}}}),t("br"),t("button",{on:{click:e.updateProfileUser}},[e._v("Atualizar Perfil")]),t("br"),t("br"),t("button",{on:{click:e.backToHome}},[e._v("Voltar")])])},A=[],C={name:"updateProfile",data(){return{displayName:""}},methods:{updateProfileUser:function(){var e=n.a.auth().currentUser;localStorage.name=this.displayName,e.updateProfile({displayName:this.displayName}).then(function(){console.log("Nome do usuário atualizado com sucesso!")}),this.$router.replace("home")},backToHome:function(){this.$router.replace("home")}}},G=C,H=(t("3544"),Object(u["a"])(G,L,A,!1,null,"6a78df1a",null)),B=H.exports;r["a"].use(p["a"]);const J=new p["a"]({routes:[{path:"*",redirect:"/login"},{path:"/",redirect:"/login"},{path:"/login",name:"Login",component:E},{path:"/sign-up",name:"SignUp",component:z},{path:"/home",name:"Home",component:w,meta:{requiresAuth:!0}},{path:"/updateProfile",name:"Home",component:B,meta:{requiresAuth:!0}}]});J.beforeEach((e,o,t)=>{const r=n.a.auth().currentUser,a=e.matched.some(e=>e.meta.requiresAuth);a&&!r?t("login"):!a&&r?t("home"):t()});var q=J;r["a"].config.productionTip=!1;let I="";const D={apiKey:"AIzaSyCzq3LDjM-fhLgLEqnJ_ffSDrSZZWY8Gt4",authDomain:"news-d4ac3.firebaseapp.com",databaseURL:"https://news-d4ac3.firebaseio.com",projectId:"news-d4ac3",storageBucket:"news-d4ac3.appspot.com",messagingSenderId:"419130403383",appId:"1:419130403383:web:0b6eade8c5d6d4d3"};n.a.initializeApp(D),n.a.auth().onAuthStateChanged(()=>{I||(I=new r["a"]({router:q,render:e=>e(d)}).$mount("#app"))})},6476:function(e,o,t){"use strict";var r=t("bdf1"),a=t.n(r);a.a},"64a9":function(e,o,t){},"8e59":function(e,o,t){"use strict";var r=t("278f"),a=t.n(r);a.a},bdf1:function(e,o,t){},cf05:function(e,o,t){e.exports=t.p+"img/logo.82b9c7a5.png"},d923:function(e,o,t){},f78e:function(e,o,t){}});
//# sourceMappingURL=app.a7ccb069.js.map